# Auto-generated by SAM Template Generator
# DO NOT EDIT MANUALLY - Regenerate with: python -m tools.generator.main
# Source: template.yaml

FROM public.ecr.aws/lambda/python:{{ python_version }}

# ---------------------------------------------------
# ローカル実行用パッチの注入
# ---------------------------------------------------
COPY {{ sitecustomize_source }} /var/lang/lib/python{{ python_version }}/site-packages/

{% if has_requirements %}
# ---------------------------------------------------
# 関数固有の依存パッケージ
# ---------------------------------------------------
COPY {{ code_uri }}requirements.txt ${LAMBDA_TASK_ROOT}/
RUN pip install -r ${LAMBDA_TASK_ROOT}/requirements.txt

{% endif %}
# ---------------------------------------------------
# 関数コードの配置
# ---------------------------------------------------
COPY {{ code_uri }}*.py ${LAMBDA_TASK_ROOT}/

# ---------------------------------------------------
# ハンドラ指定
# ---------------------------------------------------
CMD [ "{{ handler }}" ]
